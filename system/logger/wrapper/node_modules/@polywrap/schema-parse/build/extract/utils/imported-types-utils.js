"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractImportedDefinition = void 0;
var typeInfo_1 = require("../../typeInfo");
function extractImportedDefinition(node, moduleTypes) {
    if (moduleTypes === void 0) { moduleTypes = false; }
    if (!node.directives) {
        return undefined;
    }
    // Look for the imported directive
    var importedIndex = node.directives.findIndex(function (dir) { return dir.name.value === "imported"; });
    if (importedIndex === -1) {
        return undefined;
    }
    var typeName = node.name.value;
    var moduleIdentifier = "_" + typeInfo_1.MODULE_NAME;
    if ((moduleTypes && !typeName.endsWith(moduleIdentifier)) ||
        (!moduleTypes && typeName.endsWith(moduleIdentifier))) {
        return undefined;
    }
    var importedDir = node.directives[importedIndex];
    var args = importedDir.arguments || [];
    var result = {
        namespace: "",
        nativeType: "",
        uri: "",
    };
    Object.keys(result).map(function (key) {
        var argumentNode = args.find(function (arg) { return arg.name.value === key; });
        if (argumentNode && argumentNode.value.kind === "StringValue") {
            result[key] = argumentNode.value.value;
        }
    });
    return result;
}
exports.extractImportedDefinition = extractImportedDefinition;
//# sourceMappingURL=imported-types-utils.js.map